<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>For My Princess â¤ï¸</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&family=Great+Vibes&family=Cinzel:wght@700&display=swap" rel="stylesheet">

<style>
body {
    margin:0; font-family: 'Poppins', sans-serif; color:white; text-align:center; overflow-x:hidden;
    background: #ff758c; transition: background 3s ease;
    cursor: crosshair; 
}

h2 { font-family: 'Dancing Script', cursive; font-size: 2.2rem; text-shadow: 2px 2px 8px rgba(0,0,0,0.3); }

/* --- NEW CINEMATIC TRANSITION STYLES --- */
#pageTransition {
    position: fixed; inset: 0; background: black; z-index: 99999;
    display: none; flex-direction: column; align-items: center; justify-content: center;
    opacity: 0; transition: opacity 0.8s ease; pointer-events: none;
}
#transitionText {
    font-family: 'Cinzel', serif; letter-spacing: 4px; font-size: 1.2rem; color: #ff4d6d;
    transform: translateY(20px); transition: 0.8s ease;
}
.transition-active { opacity: 1 !important; pointer-events: all !important; }
.transition-active #transitionText { transform: translateY(0); }

/* --- MOVIE INTRO STYLES --- */
.intro-text {
    font-family: 'Cinzel', serif;
    letter-spacing: 5px;
    opacity: 0;
    transform: scale(0.9);
    transition: all 2s ease;
    position: absolute;
    width: 100%;
    pointer-events: none;
    z-index: 1001;
}
.intro-active { opacity: 1; transform: scale(1); }

/* --- CINEMATIC OUTRO STYLES --- */
#outroScreen {
    position: fixed; inset: 0; background: black; z-index: 9999;
    display: none; flex-direction: column; align-items: center; justify-content: flex-start;
    overflow: hidden;
}
.credits-container {
    position: absolute; top: 100%; width: 100%;
    animation: rollCredits 15s linear forwards;
    font-family: 'Cinzel', serif;
}
@keyframes rollCredits {
    0% { top: 100%; }
    100% { top: -120%; }
}
.credit-job { color: #aaa; font-size: 0.8rem; letter-spacing: 3px; margin-top: 40px; }
.credit-name { color: #fff; font-size: 1.6rem; margin-top: 5px; }

#finalEnd {
    opacity: 0; font-family: 'Cinzel', serif; font-size: 3rem; color: #ff4d6d;
    margin: auto; transition: opacity 3s ease;
}

/* --- SECRET POST-CREDIT PHOTO --- */
#secretScene {
    position: fixed; inset: 0; background: black; z-index: 10000;
    display: none; flex-direction: column; align-items: center; justify-content: center;
    opacity: 0; transition: opacity 2s ease;
}
#secretPhoto {
    width: 250px; border: 5px solid white; border-radius: 15px;
    box-shadow: 0 0 30px rgba(255, 255, 255, 0.3); transform: scale(0.8);
    transition: transform 2s ease;
}
#secretQuote {
    margin-top: 25px; font-family: 'Dancing Script', cursive; font-size: 1.8rem;
    padding: 0 20px; opacity: 0; transition: opacity 2s ease 1s;
}

/* --- BACKGROUND ANIMATION --- */
.bg-strip{position:fixed;inset:0;z-index:-2;opacity:.6; background: #ff758c;}
.bg-track{display:flex;width:max-content;animation:move 90s linear infinite;}
.bg-track img{height:100vh;filter:blur(2px); object-fit:cover;}
@keyframes move{from{transform:translateX(0)}to{transform:translateX(-50%)}}

/* --- RAIN & SPARKLE EFFECTS --- */
.heart-rain {
    position: fixed; top: -10%; user-select: none; pointer-events: none; z-index: 1000;
    color: #fff1f5; text-shadow: 0 0 10px #ff69b4; animation: fall linear forwards;
}
@keyframes fall { to { transform: translateY(115vh) rotate(360deg); } }

.confetti { 
    position: fixed; top: -50px; left: 0; user-select: none; pointer-events: none; 
    z-index: 9999; animation: fallConfetti linear forwards; 
}
@keyframes fallConfetti { 
    0% { transform: translateY(0) rotate(0deg); opacity: 1; }
    100% { transform: translateY(120vh) rotate(720deg); opacity: 0; } 
}

/* --- FIRST PAGE: GLASSMORPHISM --- */
.welcome-box {
    background: rgba(255, 255, 255, 0.2); backdrop-filter: blur(10px);
    padding: 30px; border-radius: 25px; border: 1px solid rgba(255, 255, 255, 0.4);
    box-shadow: 0 10px 30px rgba(0,0,0,0.1); max-width: 320px;
}

.pulse-heart {
    font-size: 80px; cursor: pointer; filter: drop-shadow(0 0 15px #fff);
    animation: heartBeat 1.2s infinite; display: inline-block; user-select: none; margin: 20px 0;
}
@keyframes heartBeat {
    0% { transform: scale(1); }
    15% { transform: scale(1.25); }
    30% { transform: scale(1); }
    45% { transform: scale(1.15); }
    60% { transform: scale(1); }
}

.hint-text { font-size: 0.8rem; opacity: 0.8; font-style: italic; }

#slide {
    width: 260px; border-radius: 15px; border: 4px solid white;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2); transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
}

.photo-transition {
    opacity: 0 !important; transform: scale(1.1) rotate(10deg) !important; filter: blur(8px);
}

#caption {
    margin-top: 15px; font-family: 'Dancing Script', cursive; font-size: 1.5rem;
    height: 30px; transition: opacity 0.4s; text-shadow: 1px 1px 5px rgba(0,0,0,0.2);
}

.pgrid { 
    display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; 
    width: 100%; max-width: 340px; margin: 20px auto; 
}
.pgrid img { 
    width: 100%; height: 100px; object-fit: cover; border: 4px solid white; 
    border-bottom: 12px solid white; border-radius: 2px; box-shadow: 0 4px 10px rgba(0,0,0,0.3);
    transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); opacity: 0; cursor: zoom-in;
}
.pop-in { animation: polaroidPop 0.6s ease forwards; }
@keyframes polaroidPop { from { opacity: 0; transform: translateY(30px) scale(0.8) rotate(var(--r)); } to { opacity: 1; transform: translateY(0) scale(1) rotate(var(--r)); } }
.pgrid img:active { transform: scale(1.8) rotate(0deg) !important; z-index: 100; box-shadow: 0 20px 40px rgba(0,0,0,0.5); }

.screen{
    min-height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center;
    padding:20px; box-sizing:border-box; background: rgba(255, 255, 255, 0.12); backdrop-filter: blur(4px); 
    opacity:0; transform:translateY(30px); transition:.8s ease;
}
.screen.show{opacity:1; transform:translateY(0)}
.hidden{display:none}

.video-wrapper { width: 280px; aspect-ratio: 9/16; background: #000; border-radius: 15px; overflow: hidden; border: 3px solid white; margin: 10px auto; }
#mainVideo { width:100%; height:100%; object-fit:cover; }

.letter-card { 
    background: rgba(255, 255, 255, 0.25); padding: 15px; border-radius: 15px; text-align: left; 
    border: 1px solid rgba(255,255,255,0.4); box-shadow: 0 8px 32px rgba(255, 105, 180, 0.2);
}

#signatureArea { font-family: 'Great Vibes', cursive; font-size: 3rem; color: #ffe066; height: 60px; opacity: 0; transition: 1.5s; }

.final-keepsake {
    display: none; background: rgba(255, 255, 255, 0.2); border: 2px solid white;
    padding: 30px 20px; border-radius: 20px; backdrop-filter: blur(10px);
    box-shadow: 0 0 30px rgba(255, 255, 255, 0.4); animation: zoomIn 1s ease forwards; max-width: 300px;
}
@keyframes zoomIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }

#yesText {
    display: none; font-family: 'Dancing Script', cursive; font-size: 2.2rem;
    color: #fff; text-shadow: 0 0 10px #ff69b4, 0 0 20px #ff1493;
    animation: pulse 2s infinite; margin-bottom: 15px;
}
@keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }

button{ 
    margin-top:15px; padding:10px 25px; border-radius:25px; border:none; cursor:pointer; 
    font-weight:600; background:white; color:#ff4e50; box-shadow: 0 4px 15px rgba(255,255,255,0.4);
}

.sparkle { position: fixed; pointer-events: none; z-index: 9999; font-size: 20px; transition: opacity 0.8s, transform 0.8s; }
</style>
</head>
<body>

<div class="bg-strip" id="mainBg"><div class="bg-track" id="bgTrack"></div></div>
<audio id="music" src="Perfect.mp3" loop></audio>

<div id="pageTransition">
    <div id="transitionText">CHAPTER ONE</div>
</div>

<div id="outroScreen">
    <div class="credits-container">
        <div class="credit-job">THE PRINCESS</div>
        <div class="credit-name">ANU</div>
        <div class="credit-job">HER PROTECTOR</div>
        <div class="credit-name">ANUJEET</div>
        <div class="credit-job">DIRECTED BY</div>
        <div class="credit-name">TRUE LOVE</div>
        <div class="credit-job">LOCATION</div>
        <div class="credit-name">IN OUR HEARTS</div>
        <div class="credit-job">SOUNDTRACK</div>
        <div class="credit-name">PERFECT - ED SHEERAN</div>
    </div>
    <div id="finalEnd">THE END</div>
</div>

<div id="secretScene">
    <img id="secretPhoto" src="WhatsApp Image 2026-02-03 at 1.37.17 PM (1).jpeg">
    <div id="secretQuote">"Every love story is beautiful, but ours is my favorite." â¤ï¸</div>
    <button style="margin-top: 40px; font-size: 0.8rem; background: rgba(255,255,255,0.2); color: white;" onclick="restart()">Watch Memories Again ğŸ”„</button>
</div>

<div id="s1" class="screen show">
    <div class="welcome-box">
        <h2 style="margin: 0;">Ready for a surprise,<br>Meri Princess? ğŸ‘‘</h2>
        <div onclick="startIntro()" class="pulse-heart">ğŸ’–</div>
        <p class="hint-text">Tap the heart to begin our story...<br>ğŸ§ Recommended</p>
    </div>
</div>

<div id="movieIntro" class="screen hidden" style="background: #000; z-index: 100;">
    <h1 id="introLine1" class="intro-text" style="font-size: 1.2rem; color: #aaa;">ANUJEET PRODUCTIONS PRESENTS</h1>
    <h1 id="introLine2" class="intro-text" style="font-size: 1rem; color: #fff;">A STORY OF TWO HEARTS...</h1>
    <h1 id="introLine3" class="intro-text" style="font-size: 2.5rem; color: #ff4d6d; text-shadow: 0 0 20px #ff4d6d;">FOREVER WITH YOU â¤ï¸</h1>
</div>

<div id="s2" class="screen hidden">
    <h2>Kuch acchii yaadien ğŸ“¸</h2>
    <img id="slide">
    <div id="caption"></div>
    <button onclick="next()">MERI CUTIEEğŸ’–</button>
</div>

<div id="gallery" class="screen hidden">
    <h2>The Gallery Of My Heart ğŸ“¸</h2>
    <div id="pgrid" class="pgrid"></div>
    <button onclick="transitionTo('message', 'A MESSAGE FOR YOU')">MERII PRINCESS ğŸ’–</button>
</div>

<div id="message" class="screen hidden">
    <h2 id="typedMsg"></h2>
    <div id="togetherTimer" style="background:rgba(255,255,255,0.3); padding:15px; border-radius:15px; font-size:0.9rem; font-weight:600;"></div>
    <button onclick="transitionTo('videos', 'OUR MOMENTS IN MOTION')">Videos ğŸ¬</button>
</div>

<div id="videos" class="screen hidden">
    <div class="video-wrapper"><video id="mainVideo" controls playsinline></video></div>
    <button onclick="nextVideo()">AUR BAAKI HAI ABHI ğŸ’–</button>
</div>

<div id="letter1" class="screen hidden">
    <h2>Pehle Kuch Baatien... ğŸ¤¨</h2>
    <div class="letter-card" style="max-width:320px;">
        <p>Kaise batau mai tumhe..ğŸ¤¨<br>Aanko mai tum... ğŸ‘€<br>Yaadon Mai tum..ğŸ¤”<br>Neendon mai tumm..ğŸ˜´<br>Khawabo mai tumm..â™¥ï¸<br><br>Tum ho meri harr baat maii... tum ho meri din aur Raat maii..ğŸŒƒ<br>Tum subh mai tum.. ğŸŒ… shaam mai tumm.. ğŸŒ‡<br>Soch mai tumm.. kaam mai tumm..ğŸ˜µ<br><br>Mere liye paana bhi tum..ğŸ™ƒ Mere liye khona bhi tumm..â™¥ï¸<br>Mere liye hasna bhi tum ğŸ˜‚... mere liye roona bhi tum.. ğŸ˜­<br>Aur jaagna aur soona bhi tum.. ğŸ˜´<br><br>Jau kahi dekhu kahiii.. tum ho vaha tum ho vahii..â™¥ï¸<br>Kaise batau mai tumhe... tumhare bin toh mai kuch bhi naii..â™¥ï¸</p>
    </div>
    <button onclick="transitionTo('letter2', 'SIRF TUMHARI CHAHAT')">Agla Khat ğŸ’Œ</button>
</div>

<div id="letter2" class="screen hidden">
    <h2>Sirf Tumhari Chahat... ğŸ’¦</h2>
    <div class="letter-card" style="max-width:320px;">
        <p>Log bachte hai samandar se lekin..<br>hum tumhari aakho mai dubne ko taiyaar hai..ğŸ’¦<br><br>Kisko dekhne ki chahat kare..ğŸ«£..<br>tumko dekh liya hai ek baar.. ğŸ‘€<br><br>Tumahari zulfo ki gehrayi hai bahot or...<br>hum ko pasand nhi aata hai kinara.. ğŸ˜¶â€ğŸŒ«ï¸<br><br>Log kehte hai Chand ka tukda ho tum..ğŸŒ›..<br>hum kehte hai Chand tukda hai tumhara..ğŸŒ</p>
    </div>
    <button onclick="transitionTo('letter3', 'MERA HAR WAKT TUM')">Ek Aur Hai... ğŸ’–</button>
</div>

<div id="letter3" class="screen hidden">
    <h2>Mera Har Wakt Tum... ğŸŒ</h2>
    <div class="letter-card" style="max-width:320px;">
        <p>Duniya ko khushi chaiye ğŸŒ...<br>aur mughe har Khushi mai tum..ğŸ«µ<br><br>Mere dosto ko wakt chaiye ğŸ§‘â€ğŸ¤â€ğŸ§‘...<br>aur mughe har wakt tum..ğŸ«‚<br><br>Pyaase ko kuuaa chaiye..ğŸ’¦...<br>aur mughe har dua mai tum.. ğŸ¤<br><br>Meri mami ko bahu chaiye.. ğŸ™ƒ<br>aur mughe Bahu ke roop mai tum..â™¥ï¸</p>
    </div>
    <div id="signatureArea">ANUJEET</div>
    <button id="signBtn" onclick="signLetter()">Sign Our Forever âœï¸</button>
    <button id="nextBtn" class="hidden" onclick="transitionTo('heart', 'DEEP INSIDE MY HEART')">Aage Chale? â¤ï¸</button>
</div>

<div id="heart" class="screen hidden">
    <h2>Open My Heart â¤ï¸</h2>
    <div onclick="openHeart()" style="font-size:80px; cursor:pointer;">â¤ï¸</div>
    <div id="heartText" style="margin-top:10px; font-weight: 600;"></div>
    <img id="heartPhoto" style="width:180px; border-radius:15px; border:3px solid white; display:none; margin: 0 auto;">
    <button id="heartBtn" class="hidden" onclick="transitionTo('final', 'THE FINAL STEP')">Aage Dekho ğŸ’–</button>
</div>

<div id="final" class="screen hidden">
    <div id="env" onclick="openLetter()" style="font-size:80px; cursor:pointer;">ğŸ’Œ</div>
    <video id="magicGif" style="display:none; width:200px; border-radius: 15px; border: 2px solid white;" loop muted playsinline><source src="gif.mp4" type="video/mp4"></video>
    
    <div id="proposalArea" style="display:none;">
        <h2 id="proposalHeading"></h2>
        <div id="preYesButtons">
            <button onclick="celebrate()">Yes ğŸ’–</button>
            <button onclick="celebrate()">Of Course Yesss ğŸ’</button>
        </div>

        <div id="finalKeepsake" class="final-keepsake">
            <h1 id="yesText" style="display:block;">I LOVE YOU FOREVER! ğŸ’</h1>
            <p style="font-size: 0.9rem; line-height: 1.5; color: #fff; margin-bottom: 20px;">
                This page is our little secret corner. Whenever you miss me or want to smile, just open this again. You are my forever, Anu. ğŸ’
            </p>
            <button onclick="playOutro()" style="background: gold; color: black; border: 2px solid white;">The End âœ¨</button>
            <button id="restartBtn" style="background:#ff4e50; color:white; border: 2px solid white; font-size: 0.8rem;" onclick="restart()">Watch Memories Again ğŸ”„</button>
        </div>
    </div>
</div>

<script>
const music=document.getElementById("music");
const slide=document.getElementById("slide");
const caption=document.getElementById("caption");
const pgrid=document.getElementById("pgrid");
const bgTrack=document.getElementById("bgTrack");

let images=["WhatsApp Image 2026-02-03 at 11.51.40 AM (1).jpeg","WhatsApp Image 2026-02-03 at 11.51.41 AM.jpeg","WhatsApp Image 2026-02-03 at 11.51.40 AM.jpeg","WhatsApp Image 2026-02-03 at 1.37.15 PM (1).jpeg","WhatsApp Image 2026-02-03 at 1.37.15 PM.jpeg","WhatsApp Image 2026-02-03 at 1.37.16 PM (1).jpeg","WhatsApp Image 2026-02-03 at 1.37.16 PM.jpeg","WhatsApp Image 2026-02-03 at 1.37.17 PM (1).jpeg","WhatsApp Image 2026-02-03 at 1.37.17 PM (2).jpeg","WhatsApp Image 2026-02-03 at 1.37.17 PM.jpeg","WhatsApp Image 2026-02-03 at 1.37.18 PM (1).jpeg","WhatsApp Image 2026-02-03 at 1.37.18 PM (2).jpeg","WhatsApp Image 2026-02-03 at 1.37.18 PM.jpeg"];

let captions = [
    "The most beautiful girl in the world! ğŸ˜",
    "Meri cute si smile wali... ğŸ’–",
    "Every moment with you is special. âœ¨",
    "Jitna dekhu utna kam hai... ğŸ‘€",
    "Tera chehra meri har dua mein... ğŸ¤²",
    "You are my favourite person! ğŸ«‚",
    "Ek ladki ko dekha toh aisa laga... ğŸ¶",
    "My heart belongs to you only. â¤ï¸",
    "Hayee... yeh adayein! ğŸ˜‰",
    "Perfect in every single way. ğŸ’",
    "Shining brighter than the stars. â­",
    "Tu hai toh sab kuch hai. ğŸŒ",
    "Love you to the moon and back! ğŸŒ›"
];

// --- NEW TRANSITION LOGIC ---
function transitionTo(nextScreenId, text) {
    const trans = document.getElementById("pageTransition");
    const transText = document.getElementById("transitionText");
    transText.innerText = text;
    trans.style.display = "flex";
    setTimeout(() => trans.classList.add("transition-active"), 10);

    setTimeout(() => {
        show(nextScreenId);
        if(nextScreenId === 'gallery') showGallery();
        trans.classList.remove("transition-active");
        setTimeout(() => trans.style.display = "none", 800);
    }, 2000);
}

function preloadImages() {
    images.forEach(src => { const img = new Image(); img.src = src; });
}
window.onload = preloadImages;

images.concat(images).forEach(src=>{let img=document.createElement("img"); img.src=src; bgTrack.appendChild(img);});

document.addEventListener('mousemove', (e) => {
    const sparkle = document.createElement("div");
    sparkle.className = "sparkle";
    sparkle.innerHTML = ["âœ¨", "â­", "ğŸ’–"][Math.floor(Math.random() * 3)];
    sparkle.style.left = e.clientX + "px";
    sparkle.style.top = e.clientY + "px";
    document.body.appendChild(sparkle);
    setTimeout(() => {
        sparkle.style.opacity = "0";
        sparkle.style.transform = "translateY(20px) scale(0.5)";
    }, 50);
    setTimeout(() => sparkle.remove(), 800);
});

function typeWriter(text, elementId) {
    let i = 0; const el = document.getElementById(elementId); el.innerHTML = "";
    function type() { if (i < text.length) { el.innerHTML += text.charAt(i++); setTimeout(type, 60); } }
    type();
}

function updateTimer() {
    const diff = new Date() - new Date("2024-01-14T00:00:00");
    const d = Math.floor(diff/86400000);
    const h = Math.floor((diff/3600000)%24);
    const m = Math.floor((diff/60000)%60);
    const s = Math.floor((diff/1000)%60);
    document.getElementById("togetherTimer").innerHTML = `${d} Din, ${h} Ghante, ${m} Mins aur ${s} Secs â¤ï¸`;
}
setInterval(updateTimer, 1000);

function show(id){
    document.querySelectorAll('.screen').forEach(s=>{s.classList.remove('show'); s.classList.add('hidden');});
    let el=document.getElementById(id); el.classList.remove('hidden');
    setTimeout(()=>el.classList.add('show'),20);
    if(id==='message') typeWriter("Abhi kahani khatam nahi hui meri princessâ€¦ ğŸ’–", "typedMsg");
}

/* --- MOVIE INTRO LOGIC --- */
function startIntro() {
    music.play().catch(()=>{});
    document.body.style.background = "#000";
    document.getElementById("mainBg").style.opacity = "0";
    show('movieIntro');
    
    setTimeout(() => { document.getElementById('introLine1').classList.add('intro-active'); }, 500);
    setTimeout(() => { document.getElementById('introLine1').classList.remove('intro-active'); }, 3000);
    
    setTimeout(() => { document.getElementById('introLine2').classList.add('intro-active'); }, 4000);
    setTimeout(() => { document.getElementById('introLine2').classList.remove('intro-active'); }, 6500);
    
    setTimeout(() => { document.getElementById('introLine3').classList.add('intro-active'); }, 7500);
    
    setTimeout(() => {
        document.body.style.background = "#ff758c";
        document.getElementById("mainBg").style.opacity = "0.6";
        transitionTo('s2', 'KUCH ACCHII YAADIEN');
        start();
    }, 11000);
}

function start(){ 
    slide.src=images[0]; caption.innerHTML = captions[0]; idx=0; 
}

let idx=0;
function next(){ 
    idx++; 
    if(idx < images.length){
        const slideImg = document.getElementById("slide");
        const capText = document.getElementById("caption");
        slideImg.classList.add("photo-transition");
        capText.style.opacity = "0";
        setTimeout(() => {
            slideImg.src = images[idx]; capText.innerHTML = captions[idx];
            const randomTilt = (Math.random() * 8 - 4).toFixed(2);
            slideImg.style.transform = `rotate(${randomTilt}deg)`;
            slideImg.classList.remove("photo-transition");
            capText.style.opacity = "1";
        }, 300);
    } else { transitionTo('gallery', 'THE GALLERY OF MY HEART'); } 
}

function showGallery(){ 
    pgrid.innerHTML=""; 
    images.forEach((src, i) => {
        let img = document.createElement("img"); img.src = src;
        const randomRot = (Math.random() * 10 - 5).toFixed(2);
        img.style.setProperty('--r', randomRot + 'deg');
        setTimeout(() => { img.classList.add("pop-in"); img.style.opacity="1"; }, i * 120); 
        pgrid.appendChild(img);
    }); 
}

let vids=["WhatsApp Video 2026-02-03 at 2.06.15 PM.mp4","WhatsApp Video 2026-02-03 at 2.07.12 PM.mp4","WhatsApp Video 2026-02-03 at 2.06.17 PM.mp4","WhatsApp Video 2026-02-09 at 1.15.25 AM.mp4","WhatsApp Video 2026-02-03 at 2.23.03 PM.mp4"];
let curV=0;
function startVideos(){ curV=0; show('videos'); loadV(); }
function loadV(){ let v=document.getElementById("mainVideo"); curV<4?music.pause():music.play(); v.src=vids[curV]; v.load(); }
function nextVideo() { curV++; if(curV < vids.length) { loadV(); } else { transitionTo('letter1', 'PEHLE KUCH BAATIEN'); } }

function signLetter(){ document.getElementById("signatureArea").style.opacity="1"; document.getElementById("signBtn").style.display="none"; document.getElementById("nextBtn").classList.remove("hidden"); }

function openHeart(){
    typeWriter("YEH KAUN HAI JISNE MERA DILL CHURA LIYA â¤ï¸", "heartText");
    setTimeout(()=>{
        const p=document.getElementById("heartPhoto"); p.src=images[1]; p.style.display="block";
        setTimeout(()=>document.getElementById("heartBtn").classList.remove("hidden"), 2000);
    }, 1500);
}

function openLetter(){
    document.getElementById("env").style.display="none";
    let g=document.getElementById("magicGif"); g.style.display="block"; g.play();
    setTimeout(()=>{ document.getElementById("proposalArea").style.display="block"; typeWriter("Will you stay with me forever, Anu? ğŸ’", "proposalHeading"); }, 2000);
}

function celebrate(){
    if (navigator.vibrate) navigator.vibrate([100, 50, 100]); 
    document.getElementById("preYesButtons").style.display="none";
    document.getElementById("proposalHeading").style.display="none";
    document.getElementById("finalKeepsake").style.display="block";
    document.body.style.background = "radial-gradient(circle, #ff9a9e 0%, #fad0c4 100%)";
    
    for(let i=0; i<80; i++){
        let c = document.createElement("div"); c.className="confetti";
        c.innerHTML = ["ğŸ’–","âœ¨","ğŸŒ¸","ğŸ‰","ğŸ’•","ğŸ’"][Math.floor(Math.random()*6)];
        c.style.left = Math.random()*100+"vw";
        c.style.animationDuration = (Math.random()*3+2)+"s";
        c.style.fontSize = (Math.random()*20+15)+"px";
        document.body.appendChild(c);
        setTimeout(()=>c.remove(), 5000);
    }
}

function playOutro() {
    document.getElementById("outroScreen").style.display = "flex";
    setTimeout(() => {
        document.getElementById("finalEnd").style.opacity = "1";
        setTimeout(showSecretScene, 4000);
    }, 13000);
}

function showSecretScene() {
    const scene = document.getElementById("secretScene");
    scene.style.display = "flex";
    setTimeout(() => {
        scene.style.opacity = "1";
        document.getElementById("secretPhoto").style.transform = "scale(1)";
        document.getElementById("secretQuote").style.opacity = "1";
    }, 100);
}

function restart() { location.reload(); }

setInterval(()=>{
    const h=document.createElement("div"); h.className="heart-rain"; 
    const isName = Math.random() > 0.8;
    h.innerHTML = isName ? "Anuâ¤ï¸Saru" : "ğŸ’—";
    h.style.left=Math.random()*100+"vw"; 
    h.style.fontSize= isName ? "20px" : (Math.random()*15+10)+"px";
    h.style.fontWeight = isName ? "bold" : "normal";
    if(isName) {
        h.style.color = "#ffe066";
        h.style.textShadow = "0 0 12px #ff69b4";
    }
    h.style.animationDuration=(Math.random()*3+2)+"s"; document.body.appendChild(h);
    setTimeout(()=>h.remove(), 5000);
}, 250);
</script>
</body>
</html>

