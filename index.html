<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>For My Princess ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600&family=Great+Vibes&display=swap" rel="stylesheet">

<style>
body{
    margin:0; font-family: 'Poppins', sans-serif; color:white; text-align:center; overflow-x:hidden;
    background: #ff758c; transition: background 2s ease;
}

h2 { font-family: 'Dancing Script', cursive; font-size: 2.2rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }

/* Moving Background Photo Track */
.bg-strip{position:fixed;inset:0;z-index:-2;opacity:.3;}
.bg-track{display:flex;width:max-content;animation:move 90s linear infinite;}
.bg-track img{height:100vh;filter:blur(4px);object-fit:cover;}
@keyframes move{from{transform:translateX(0)}to{transform:translateX(-50%)}}

/* Glowing Pink Heart Rain */
.heart-rain {
    position: fixed; top: -10%; user-select: none; pointer-events: none; z-index: 1000;
    color: #ffb6c1; text-shadow: 0 0 10px #ff69b4; animation: fall linear forwards;
}
@keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

/* Screens */
.screen{
    min-height:100vh; display:flex; flex-direction:column; justify-content:center; align-items:center;
    padding:20px; box-sizing:border-box; background: rgba(0, 0, 0, 0.25); 
    backdrop-filter: blur(8px); opacity:0; transform:translateY(30px); transition:.8s ease;
}
.screen.show{opacity:1; transform:translateY(0)}
.hidden{display:none}

/* GALLERY SIZE FIX (Small & Clean) */
.pgrid{
    display:grid; grid-template-columns:repeat(3, 1fr); gap:8px; 
    width:100%; max-width:320px; margin: 0 auto;
}
.pgrid img{ width:100%; height:100px; object-fit:cover; border-radius:8px; border:2px solid white; }

/* VIDEO SIZE FIX */
.video-wrapper {
    width: 280px; aspect-ratio: 9/16; background: #000; border-radius: 15px; 
    overflow: hidden; border: 3px solid white; margin: 10px auto;
}
#mainVideo { width:100%; height:100%; object-fit:cover; }

/* LETTERS & SIGNATURE */
.letter-container { width: 100%; max-width: 400px; max-height: 45vh; overflow-y: auto; gap: 15px; display:flex; flex-direction:column; }
.letter-card { background: rgba(255, 255, 255, 0.15); padding: 15px; border-radius: 15px; text-align: left; border: 1px solid rgba(255,255,255,0.2); }
#signatureArea { font-family: 'Great Vibes', cursive; font-size: 3rem; color: #ffe066; height: 60px; opacity: 0; transition: 1.5s; }

/* CELEBRATION ELEMENTS */
.confetti { position: fixed; top: -20px; z-index: 2000; animation: fallConfetti linear forwards; }
@keyframes fallConfetti { to { transform: translateY(110vh) rotate(720deg); } }

button{ margin-top:15px; padding:10px 20px; border-radius:20px; border:none; cursor:pointer; font-weight:600; background:white; color:#ff4e50; }
</style>
</head>
<body>

<div class="bg-strip"><div class="bg-track" id="bgTrack"></div></div>
<audio id="music" src="Perfect.mp3" loop></audio>

<div id="s1" class="screen show">
    <h2>Tap the heart meri princess üíñ</h2>
    <div onclick="start()" style="cursor:pointer; font-size:80px;">üíñ</div>
</div>

<div id="s2" class="screen hidden">
    <h2>Kuch acchii yaadien üì∏</h2>
    <img id="slide" style="width:260px; border-radius:15px; border:4px solid white;">
    <button onclick="next()">Next Memory üíñ</button>
</div>

<div id="gallery" class="screen hidden">
    <h2>Our Moments üì∏</h2>
    <div id="pgrid" class="pgrid"></div>
    <button onclick="show('message')">Next üíñ</button>
</div>

<div id="message" class="screen hidden">
    <h2 id="typedMsg"></h2>
    <div id="togetherTimer" style="background:rgba(255,255,255,0.2); padding:15px; border-radius:15px; font-size:0.9rem;"></div>
    <button onclick="startVideos()">Videos üé¨</button>
</div>

<div id="videos" class="screen hidden">
    <div class="video-wrapper"><video id="mainVideo" controls playsinline></video></div>
    <button onclick="nextVideo()">Next Video üíñ</button>
</div>

<div id="lettersPage" class="screen hidden">
    <h2>Pyaar Bhare Khat üíå</h2>
    <div class="letter-container">
        <div class="letter-card"><h3>To My Princess,</h3><p>Your custom message here...</p></div>
        <div class="letter-card"><h3>My Promise,</h3><p>Your custom message here...</p></div>
    </div>
    <div id="signatureArea">Anu</div>
    <button id="signBtn" onclick="signLetter()">Sign Our Forever ‚úçÔ∏è</button>
    <button id="nextBtn" class="hidden" onclick="show('heart')">Aage Chale? ‚ù§Ô∏è</button>
</div>

<div id="heart" class="screen hidden">
    <h2>Open My Heart ‚ù§Ô∏è</h2>
    <div onclick="openHeart()" style="font-size:80px; cursor:pointer">‚ù§Ô∏è</div>
    <div id="heartText" style="margin-top:10px;"></div>
    <img id="heartPhoto" style="width:180px; border-radius:15px; border:3px solid white; display:none;">
    <button id="heartBtn" class="hidden" onclick="show('final')">Aage Dekho üíñ</button>
</div>

<div id="final" class="screen hidden">
    <div id="env" onclick="openLetter()" style="font-size:80px; cursor:pointer;">üíå</div>
    <video id="magicGif" style="display:none; width:200px;" loop muted playsinline><source src="gif.mp4" type="video/mp4"></video>
    <div id="proposalArea" style="display:none;">
        <h2 id="proposalHeading"></h2>
        <button onclick="celebrate()">Yes üíñ</button>
        <button onclick="celebrate()">Of Course Yesss üíû</button>
        <h1 id="yesText" style="display:none; font-family:'Great Vibes'; color:#fff;">ANU said YES! üíû</h1>
    </div>
</div>

<script>
const music=document.getElementById("music");
const slide=document.getElementById("slide");
const pgrid=document.getElementById("pgrid");
const bgTrack=document.getElementById("bgTrack");

let images=["WhatsApp Image 2026-02-03 at 11.51.40 AM (1).jpeg","WhatsApp Image 2026-02-03 at 11.51.41 AM.jpeg","WhatsApp Image 2026-02-03 at 11.51.40 AM.jpeg","WhatsApp Image 2026-02-03 at 1.37.15 PM (1).jpeg","WhatsApp Image 2026-02-03 at 1.37.15 PM.jpeg","WhatsApp Image 2026-02-03 at 1.37.16 PM (1).jpeg","WhatsApp Image 2026-02-03 at 1.37.16 PM.jpeg","WhatsApp Image 2026-02-03 at 1.37.17 PM (1).jpeg","WhatsApp Image 2026-02-03 at 1.37.17 PM (2).jpeg","WhatsApp Image 2026-02-03 at 1.37.17 PM.jpeg","WhatsApp Image 2026-02-03 at 1.37.18 PM (1).jpeg","WhatsApp Image 2026-02-03 at 1.37.18 PM (2).jpeg","WhatsApp Image 2026-02-03 at 1.37.18 PM.jpeg"];

images.concat(images).forEach(src=>{let img=document.createElement("img"); img.src=src; bgTrack.appendChild(img);});

function typeWriter(text, elementId) {
    let i = 0; const el = document.getElementById(elementId); el.innerHTML = "";
    function type() { if (i < text.length) { el.innerHTML += text.charAt(i++); setTimeout(type, 60); } }
    type();
}

function updateTimer() {
    const diff = new Date() - new Date("2024-01-14T00:00:00");
    const d = Math.floor(diff/86400000);
    const h = Math.floor((diff/3600000)%24);
    const m = Math.floor((diff/60000)%60);
    const s = Math.floor((diff/1000)%60);
    document.getElementById("togetherTimer").innerHTML = `${d} Din, ${h} Ghante, ${m} Mins aur ${s} Secs ‚ù§Ô∏è`;
}
setInterval(updateTimer, 1000);

function show(id){
    document.querySelectorAll('.screen').forEach(s=>{s.classList.remove('show'); s.classList.add('hidden');});
    let el=document.getElementById(id); el.classList.remove('hidden');
    setTimeout(()=>el.classList.add('show'),20);
    if(id==='message') typeWriter("Abhi kahani khatam nahi hui meri princess‚Ä¶ üíñ", "typedMsg");
}

function start(){ music.play().catch(()=>{}); show('s2'); slide.src=images[0]; }
let idx=0;
function next(){ idx++; if(idx<images.length){slide.src=images[idx];} else{showGallery();} }
function showGallery(){ show('gallery'); pgrid.innerHTML=""; images.forEach(src=>{let img=document.createElement("img"); img.src=src; pgrid.appendChild(img);}); }

let vids=["WhatsApp Video 2026-02-03 at 2.06.15 PM.mp4","WhatsApp Video 2026-02-03 at 2.07.12 PM.mp4","WhatsApp Video 2026-02-03 at 2.06.17 PM.mp4","WhatsApp Video 2026-02-09 at 1.15.25 AM.mp4","WhatsApp Video 2026-02-03 at 2.23.03 PM.mp4"];
let curV=0;
function startVideos(){ curV=0; show('videos'); loadV(); }
function loadV(){ let v=document.getElementById("mainVideo"); curV<4?music.pause():music.play(); v.src=vids[curV]; v.load(); }
function nextVideo(){ curV++; if(curV<vids.length){loadV();} else{show('lettersPage');} }

function signLetter(){ document.getElementById("signatureArea").style.opacity="1"; document.getElementById("signBtn").style.display="none"; document.getElementById("nextBtn").classList.remove("hidden"); }

function openHeart(){
    typeWriter("Someone is there in my heart ‚ù§Ô∏è", "heartText");
    setTimeout(()=>{
        const p=document.getElementById("heartPhoto"); p.src=images[1]; p.style.display="block";
        setTimeout(()=>document.getElementById("heartBtn").classList.remove("hidden"), 2000);
    }, 1500);
}

function openLetter(){
    document.getElementById("env").style.display="none";
    let g=document.getElementById("magicGif"); g.style.display="block"; g.play();
    setTimeout(()=>{ document.getElementById("proposalArea").style.display="block"; typeWriter("Will you stay with me forever, Anu? üíç", "proposalHeading"); }, 2000);
}

function celebrate(){
    document.getElementById("yesText").style.display="block";
    document.body.style.background = "linear-gradient(to bottom, #ff758c, #ff9a9e, #fecfef)";
    
    for(let i=0; i<100; i++){
        let c = document.createElement("div"); c.className="confetti";
        c.innerHTML = ["üíñ","‚ú®","üå∏","üéâ","üíï"][Math.floor(Math.random()*5)];
        c.style.left = Math.random()*100+"vw";
        c.style.animationDuration = (Math.random()*3+2)+"s";
        c.style.fontSize = (Math.random()*20+15)+"px";
        document.body.appendChild(c);
        setTimeout(()=>c.remove(), 5000);
    }
}

setInterval(()=>{
    const h=document.createElement("div"); h.className="heart-rain"; h.innerHTML="üíó";
    h.style.left=Math.random()*100+"vw"; h.style.fontSize=(Math.random()*15+10)+"px";
    h.style.animationDuration=(Math.random()*3+2)+"s"; document.body.appendChild(h);
    setTimeout(()=>h.remove(), 5000);
}, 250);
</script>
</body>
</html>
